<index html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>छात्र संख्या फॉर्म</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        .container { max-width: 900px; }
        .input-group { display: flex; gap: 0.5rem; }
        .input-group input { text-align: center; }
        .grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
        @media (min-width: 768px) {
            .md\:grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
        }
        .message-box {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 2rem;
            border-radius: 0.75rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            z-index: 1000;
        }
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 999;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 font-sans p-4">

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="overlay flex items-center justify-center">
        <div class="animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-indigo-500"></div>
    </div>

    <!-- Message Box -->
    <div id="messageBox" class="message-box bg-white text-center">
        <p id="messageText" class="text-lg font-bold mb-4"></p>
        <button onclick="closeMessageBox()" class="px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition">बंद करें</button>
    </div>

    <div class="container mx-auto bg-white shadow-xl rounded-xl p-8 my-8">
        <h1 class="text-3xl font-bold text-center text-indigo-600 mb-6">छात्र संख्या फॉर्म</h1>

        <form id="studentCountForm" action="https://script.google.com/macros/s/AKfycbxfevqAknBhCjLO4EPJ1SbsbyD1raZf8NODHN4uik5ufRQ20OABd-hizpNqIw54k7xM/exec" method="post" class="space-y-6">

            <div class="grid md:grid-cols-2 gap-6">
                <div>
                    <label for="location" class="block text-sm font-medium text-gray-700 mb-1">स्थान</label>
                    <input type="text" id="location" name="location" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" required>
                </div>
                <div>
                    <label for="school" class="block text-sm font-medium text-gray-700 mb-1">विद्यालय का नाम</label>
                    <input type="text" id="school" name="school" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" required>
                </div>
                <div>
                    <label for="date" class="block text-sm font-medium text-gray-700 mb-1">दिनांक</label>
                    <input type="date" id="date" name="date" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" required>
                </div>
                <div>
                    <label for="srNumber" class="block text-sm font-medium text-gray-700 mb-1">एसआर नंबर</label>
                    <input type="text" id="srNumber" name="srNumber" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" required>
                </div>
                <div>
                    <label for="volunteerName" class="block text-sm font-medium text-gray-700 mb-1">स्वयंसेवक का नाम</label>
                    <input type="text" id="volunteerName" name="volunteerName" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" required>
                </div>
                <div>
                    <label for="mobileNumber" class="block text-sm font-medium text-gray-700 mb-1">मोबाइल नंबर</label>
                    <input type="tel" id="mobileNumber" name="mobileNumber" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" required>
                </div>
                <div>
                    <label for="workingVolunteers" class="block text-sm font-medium text-gray-700 mb-1">कार्यरत स्वयंसेवक</label>
                    <input type="number" id="workingVolunteers" name="workingVolunteers" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" min="0" required>
                </div>
            </div>

            <hr class="my-6 border-gray-300">

            <div class="space-y-4">
                <h2 class="text-2xl font-bold text-center text-indigo-600">कक्षा के अनुसार छात्र संख्या</h2>
                
                <div class="grid gap-4">
                    <!-- Class Nursery -->
                    <div class="bg-gray-50 p-4 rounded-lg shadow">
                        <h3 class="font-bold mb-2">नर्सरी</h3>
                        <div class="grid grid-cols-3 gap-4">
                            <div>
                                <label for="boys-नर्सरी" class="block text-sm font-medium text-gray-700 mb-1">लड़के</label>
                                <input type="number" id="boys-नर्सरी" name="boys-नर्सरी" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('नर्सरी')">
                            </div>
                            <div>
                                <label for="girls-नर्सरी" class="block text-sm font-medium text-gray-700 mb-1">लड़कियां</label>
                                <input type="number" id="girls-नर्सरी" name="girls-नर्सरी" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('नर्सरी')">
                            </div>
                            <div>
                                <label for="total-नर्सरी" class="block text-sm font-medium text-gray-700 mb-1">कुल</label>
                                <input type="number" id="total-नर्सरी" name="total-नर्सरी" class="w-full px-2 py-1 border rounded-lg bg-gray-200" value="0" readonly>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Class LKG -->
                    <div class="bg-gray-50 p-4 rounded-lg shadow">
                        <h3 class="font-bold mb-2">एलकेजी</h3>
                        <div class="grid grid-cols-3 gap-4">
                            <div>
                                <label for="boys-एलकेजी" class="block text-sm font-medium text-gray-700 mb-1">लड़के</label>
                                <input type="number" id="boys-एलकेजी" name="boys-एलकेजी" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('एलकेजी')">
                            </div>
                            <div>
                                <label for="girls-एलकेजी" class="block text-sm font-medium text-gray-700 mb-1">लड़कियां</label>
                                <input type="number" id="girls-एलकेजी" name="girls-एलकेजी" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('एलकेजी')">
                            </div>
                            <div>
                                <label for="total-एलकेजी" class="block text-sm font-medium text-gray-700 mb-1">कुल</label>
                                <input type="number" id="total-एलकेजी" name="total-एलकेजी" class="w-full px-2 py-1 border rounded-lg bg-gray-200" value="0" readonly>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Class UKG -->
                    <div class="bg-gray-50 p-4 rounded-lg shadow">
                        <h3 class="font-bold mb-2">यूकेजी</h3>
                        <div class="grid grid-cols-3 gap-4">
                            <div>
                                <label for="boys-यूकेजी" class="block text-sm font-medium text-gray-700 mb-1">लड़के</label>
                                <input type="number" id="boys-यूकेजी" name="boys-यूकेजी" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('यूकेजी')">
                            </div>
                            <div>
                                <label for="girls-यूकेजी" class="block text-sm font-medium text-gray-700 mb-1">लड़कियां</label>
                                <input type="number" id="girls-यूकेजी" name="girls-यूकेजी" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('यूकेजी')">
                            </div>
                            <div>
                                <label for="total-यूकेजी" class="block text-sm font-medium text-gray-700 mb-1">कुल</label>
                                <input type="number" id="total-यूकेजी" name="total-यूकेजी" class="w-full px-2 py-1 border rounded-lg bg-gray-200" value="0" readonly>
                            </div>
                        </div>
                    </div>

                    <!-- Class 1 -->
                    <div class="bg-gray-50 p-4 rounded-lg shadow">
                        <h3 class="font-bold mb-2">कक्षा 1</h3>
                        <div class="grid grid-cols-3 gap-4">
                            <div>
                                <label for="boys-कक्षा 1" class="block text-sm font-medium text-gray-700 mb-1">लड़के</label>
                                <input type="number" id="boys-कक्षा 1" name="boys-कक्षा 1" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('कक्षा 1')">
                            </div>
                            <div>
                                <label for="girls-कक्षा 1" class="block text-sm font-medium text-gray-700 mb-1">लड़कियां</label>
                                <input type="number" id="girls-कक्षा 1" name="girls-कक्षा 1" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('कक्षा 1')">
                            </div>
                            <div>
                                <label for="total-कक्षा 1" class="block text-sm font-medium text-gray-700 mb-1">कुल</label>
                                <input type="number" id="total-कक्षा 1" name="total-कक्षा 1" class="w-full px-2 py-1 border rounded-lg bg-gray-200" value="0" readonly>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Class 2 -->
                    <div class="bg-gray-50 p-4 rounded-lg shadow">
                        <h3 class="font-bold mb-2">कक्षा 2</h3>
                        <div class="grid grid-cols-3 gap-4">
                            <div>
                                <label for="boys-कक्षा 2" class="block text-sm font-medium text-gray-700 mb-1">लड़के</label>
                                <input type="number" id="boys-कक्षा 2" name="boys-कक्षा 2" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('कक्षा 2')">
                            </div>
                            <div>
                                <label for="girls-कक्षा 2" class="block text-sm font-medium text-gray-700 mb-1">लड़कियां</label>
                                <input type="number" id="girls-कक्षा 2" name="girls-कक्षा 2" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('कक्षा 2')">
                            </div>
                            <div>
                                <label for="total-कक्षा 2" class="block text-sm font-medium text-gray-700 mb-1">कुल</label>
                                <input type="number" id="total-कक्षा 2" name="total-कक्षा 2" class="w-full px-2 py-1 border rounded-lg bg-gray-200" value="0" readonly>
                            </div>
                        </div>
                    </div>

                    <!-- Class 3 -->
                    <div class="bg-gray-50 p-4 rounded-lg shadow">
                        <h3 class="font-bold mb-2">कक्षा 3</h3>
                        <div class="grid grid-cols-3 gap-4">
                            <div>
                                <label for="boys-कक्षा 3" class="block text-sm font-medium text-gray-700 mb-1">लड़के</label>
                                <input type="number" id="boys-कक्षा 3" name="boys-कक्षा 3" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('कक्षा 3')">
                            </div>
                            <div>
                                <label for="girls-कक्षा 3" class="block text-sm font-medium text-gray-700 mb-1">लड़कियां</label>
                                <input type="number" id="girls-कक्षा 3" name="girls-कक्षा 3" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('कक्षा 3')">
                            </div>
                            <div>
                                <label for="total-कक्षा 3" class="block text-sm font-medium text-gray-700 mb-1">कुल</label>
                                <input type="number" id="total-कक्षा 3" name="total-कक्षा 3" class="w-full px-2 py-1 border rounded-lg bg-gray-200" value="0" readonly>
                            </div>
                        </div>
                    </div>

                    <!-- Class 4 -->
                    <div class="bg-gray-50 p-4 rounded-lg shadow">
                        <h3 class="font-bold mb-2">कक्षा 4</h3>
                        <div class="grid grid-cols-3 gap-4">
                            <div>
                                <label for="boys-कक्षा 4" class="block text-sm font-medium text-gray-700 mb-1">लड़के</label>
                                <input type="number" id="boys-कक्षा 4" name="boys-कक्षा 4" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('कक्षा 4')">
                            </div>
                            <div>
                                <label for="girls-कक्षा 4" class="block text-sm font-medium text-gray-700 mb-1">लड़कियां</label>
                                <input type="number" id="girls-कक्षा 4" name="girls-कक्षा 4" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('कक्षा 4')">
                            </div>
                            <div>
                                <label for="total-कक्षा 4" class="block text-sm font-medium text-gray-700 mb-1">कुल</label>
                                <input type="number" id="total-कक्षा 4" name="total-कक्षा 4" class="w-full px-2 py-1 border rounded-lg bg-gray-200" value="0" readonly>
                            </div>
                        </div>
                    </div>

                    <!-- Class 5 -->
                    <div class="bg-gray-50 p-4 rounded-lg shadow">
                        <h3 class="font-bold mb-2">कक्षा 5</h3>
                        <div class="grid grid-cols-3 gap-4">
                            <div>
                                <label for="boys-कक्षा 5" class="block text-sm font-medium text-gray-700 mb-1">लड़के</label>
                                <input type="number" id="boys-कक्षा 5" name="boys-कक्षा 5" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('कक्षा 5')">
                            </div>
                            <div>
                                <label for="girls-कक्षा 5" class="block text-sm font-medium text-gray-700 mb-1">लड़कियां</label>
                                <input type="number" id="girls-कक्षा 5" name="girls-कक्षा 5" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('कक्षा 5')">
                            </div>
                            <div>
                                <label for="total-कक्षा 5" class="block text-sm font-medium text-gray-700 mb-1">कुल</label>
                                <input type="number" id="total-कक्षा 5" name="total-कक्षा 5" class="w-full px-2 py-1 border rounded-lg bg-gray-200" value="0" readonly>
                            </div>
                        </div>
                    </div>

                    <!-- Class 6 -->
                    <div class="bg-gray-50 p-4 rounded-lg shadow">
                        <h3 class="font-bold mb-2">कक्षा 6</h3>
                        <div class="grid grid-cols-3 gap-4">
                            <div>
                                <label for="boys-कक्षा 6" class="block text-sm font-medium text-gray-700 mb-1">लड़के</label>
                                <input type="number" id="boys-कक्षा 6" name="boys-कक्षा 6" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('कक्षा 6')">
                            </div>
                            <div>
                                <label for="girls-कक्षा 6" class="block text-sm font-medium text-gray-700 mb-1">लड़कियां</label>
                                <input type="number" id="girls-कक्षा 6" name="girls-कक्षा 6" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('कक्षा 6')">
                            </div>
                            <div>
                                <label for="total-कक्षा 6" class="block text-sm font-medium text-gray-700 mb-1">कुल</label>
                                <input type="number" id="total-कक्षा 6" name="total-कक्षा 6" class="w-full px-2 py-1 border rounded-lg bg-gray-200" value="0" readonly>
                            </div>
                        </div>
                    </div>

                    <!-- Class 7 -->
                    <div class="bg-gray-50 p-4 rounded-lg shadow">
                        <h3 class="font-bold mb-2">कक्षा 7</h3>
                        <div class="grid grid-cols-3 gap-4">
                            <div>
                                <label for="boys-कक्षा 7" class="block text-sm font-medium text-gray-700 mb-1">लड़के</label>
                                <input type="number" id="boys-कक्षा 7" name="boys-कक्षा 7" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('कक्षा 7')">
                            </div>
                            <div>
                                <label for="girls-कक्षा 7" class="block text-sm font-medium text-gray-700 mb-1">लड़कियां</label>
                                <input type="number" id="girls-कक्षा 7" name="girls-कक्षा 7" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('कक्षा 7')">
                            </div>
                            <div>
                                <label for="total-कक्षा 7" class="block text-sm font-medium text-gray-700 mb-1">कुल</label>
                                <input type="number" id="total-कक्षा 7" name="total-कक्षा 7" class="w-full px-2 py-1 border rounded-lg bg-gray-200" value="0" readonly>
                            </div>
                        </div>
                    </div>

                    <!-- Class 8 -->
                    <div class="bg-gray-50 p-4 rounded-lg shadow">
                        <h3 class="font-bold mb-2">कक्षा 8</h3>
                        <div class="grid grid-cols-3 gap-4">
                            <div>
                                <label for="boys-कक्षा 8" class="block text-sm font-medium text-gray-700 mb-1">लड़के</label>
                                <input type="number" id="boys-कक्षा 8" name="boys-कक्षा 8" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('कक्षा 8')">
                            </div>
                            <div>
                                <label for="girls-कक्षा 8" class="block text-sm font-medium text-gray-700 mb-1">लड़कियां</label>
                                <input type="number" id="girls-कक्षा 8" name="girls-कक्षा 8" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('कक्षा 8')">
                            </div>
                            <div>
                                <label for="total-कक्षा 8" class="block text-sm font-medium text-gray-700 mb-1">कुल</label>
                                <input type="number" id="total-कक्षा 8" name="total-कक्षा 8" class="w-full px-2 py-1 border rounded-lg bg-gray-200" value="0" readonly>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Class 9 -->
                    <div class="bg-gray-50 p-4 rounded-lg shadow">
                        <h3 class="font-bold mb-2">कक्षा 9</h3>
                        <div class="grid grid-cols-3 gap-4">
                            <div>
                                <label for="boys-कक्षा 9" class="block text-sm font-medium text-gray-700 mb-1">लड़के</label>
                                <input type="number" id="boys-कक्षा 9" name="boys-कक्षा 9" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('कक्षा 9')">
                            </div>
                            <div>
                                <label for="girls-कक्षा 9" class="block text-sm font-medium text-gray-700 mb-1">लड़कियां</label>
                                <input type="number" id="girls-कक्षा 9" name="girls-कक्षा 9" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('कक्षा 9')">
                            </div>
                            <div>
                                <label for="total-कक्षा 9" class="block text-sm font-medium text-gray-700 mb-1">कुल</label>
                                <input type="number" id="total-कक्षा 9" name="total-कक्षा 9" class="w-full px-2 py-1 border rounded-lg bg-gray-200" value="0" readonly>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Class 10 -->
                    <div class="bg-gray-50 p-4 rounded-lg shadow">
                        <h3 class="font-bold mb-2">कक्षा 10</h3>
                        <div class="grid grid-cols-3 gap-4">
                            <div>
                                <label for="boys-कक्षा 10" class="block text-sm font-medium text-gray-700 mb-1">लड़के</label>
                                <input type="number" id="boys-कक्षा 10" name="boys-कक्षा 10" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('कक्षा 10')">
                            </div>
                            <div>
                                <label for="girls-कक्षा 10" class="block text-sm font-medium text-gray-700 mb-1">लड़कियां</label>
                                <input type="number" id="girls-कक्षा 10" name="girls-कक्षा 10" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('कक्षा 10')">
                            </div>
                            <div>
                                <label for="total-कक्षा 10" class="block text-sm font-medium text-gray-700 mb-1">कुल</label>
                                <input type="number" id="total-कक्षा 10" name="total-कक्षा 10" class="w-full px-2 py-1 border rounded-lg bg-gray-200" value="0" readonly>
                            </div>
                        </div>
                    </div>

                    <!-- Class 11 -->
                    <div class="bg-gray-50 p-4 rounded-lg shadow">
                        <h3 class="font-bold mb-2">कक्षा 11</h3>
                        <div class="grid grid-cols-3 gap-4">
                            <div>
                                <label for="boys-कक्षा 11" class="block text-sm font-medium text-gray-700 mb-1">लड़के</label>
                                <input type="number" id="boys-कक्षा 11" name="boys-कक्षा 11" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('कक्षा 11')">
                            </div>
                            <div>
                                <label for="girls-कक्षा 11" class="block text-sm font-medium text-gray-700 mb-1">लड़कियां</label>
                                <input type="number" id="girls-कक्षा 11" name="girls-कक्षा 11" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('कक्षा 11')">
                            </div>
                            <div>
                                <label for="total-कक्षा 11" class="block text-sm font-medium text-gray-700 mb-1">कुल</label>
                                <input type="number" id="total-कक्षा 11" name="total-कक्षा 11" class="w-full px-2 py-1 border rounded-lg bg-gray-200" value="0" readonly>
                            </div>
                        </div>
                    </div>

                    <!-- Class 12 -->
                    <div class="bg-gray-50 p-4 rounded-lg shadow">
                        <h3 class="font-bold mb-2">कक्षा 12</h3>
                        <div class="grid grid-cols-3 gap-4">
                            <div>
                                <label for="boys-कक्षा 12" class="block text-sm font-medium text-gray-700 mb-1">लड़के</label>
                                <input type="number" id="boys-कक्षा 12" name="boys-कक्षा 12" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('कक्षा 12')">
                            </div>
                            <div>
                                <label for="girls-कक्षा 12" class="block text-sm font-medium text-gray-700 mb-1">लड़कियां</label>
                                <input type="number" id="girls-कक्षा 12" name="girls-कक्षा 12" class="w-full px-2 py-1 border rounded-lg" value="0" min="0" oninput="updateTotal('कक्षा 12')">
                            </div>
                            <div>
                                <label for="total-कक्षा 12" class="block text-sm font-medium text-gray-700 mb-1">कुल</label>
                                <input type="number" id="total-कक्षा 12" name="total-कक्षा 12" class="w-full px-2 py-1 border rounded-lg bg-gray-200" value="0" readonly>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <hr class="my-6 border-gray-300">

            <!-- Grand Totals -->
            <div class="bg-indigo-100 p-6 rounded-lg shadow-inner">
                <h2 class="text-xl font-bold text-indigo-800 mb-4">कुल योग</h2>
                <div class="grid grid-cols-2 md:grid-cols-3 gap-6">
                    <div>
                        <label for="grandTotalBoys" class="block text-sm font-medium text-indigo-700 mb-1">कुल लड़के</label>
                        <input type="number" id="grandTotalBoys" name="grandTotalBoys" class="w-full px-4 py-2 border rounded-lg bg-indigo-50 font-bold" value="0" readonly>
                    </div>
                    <div>
                        <label for="grandTotalGirls" class="block text-sm font-medium text-indigo-700 mb-1">कुल लड़कियाँ</label>
                        <input type="number" id="grandTotalGirls" name="grandTotalGirls" class="w-full px-4 py-2 border rounded-lg bg-indigo-50 font-bold" value="0" readonly>
                    </div>
                    <div>
                        <label for="grandTotal" class="block text-sm font-medium text-indigo-700 mb-1">महायोग</label>
                        <input type="number" id="grandTotal" name="grandTotal" class="w-full px-4 py-2 border rounded-lg bg-indigo-50 font-bold" value="0" readonly>
                    </div>
                </div>
            </div>

            <div class="flex justify-center mt-8">
                <button type="submit" id="submitButton" class="w-full md:w-auto px-8 py-3 bg-indigo-600 text-white font-bold rounded-full hover:bg-indigo-700 transition duration-300 transform hover:scale-105 shadow-lg">
                    सबमिट करें
                </button>
            </div>
            
        </form>
    </div>

    <script>
        const classes = [
            'नर्सरी', 'एलकेजी', 'यूकेजी', 'कक्षा 1', 'कक्षा 2', 'कक्षा 3',
            'कक्षा 4', 'कक्षा 5', 'कक्षा 6', 'कक्षा 7', 'कक्षा 8', 'कक्षा 9',
            'कक्षा 10', 'कक्षा 11', 'कक्षा 12'
        ];

        function updateTotal(className) {
            const boysId = `boys-${className}`;
            const girlsId = `girls-${className}`;
            const totalId = `total-${className}`;

            const boys = parseInt(document.getElementById(boysId).value) || 0;
            const girls = parseInt(document.getElementById(girlsId).value) || 0;
            
            document.getElementById(totalId).value = boys + girls;
            updateGrandTotals();
        }

        function updateGrandTotals() {
            let totalBoys = 0;
            let totalGirls = 0;

            classes.forEach(className => {
                const boys = parseInt(document.getElementById(`boys-${className}`).value) || 0;
                const girls = parseInt(document.getElementById(`girls-${className}`).value) || 0;
                totalBoys += boys;
                totalGirls += girls;
            });
            
            document.getElementById('grandTotalBoys').value = totalBoys;
            document.getElementById('grandTotalGirls').value = totalGirls;
            document.getElementById('grandTotal').value = totalBoys + totalGirls;
        }

        function showMessage(message, isSuccess) {
            const messageBox = document.getElementById('messageBox');
            const messageText = document.getElementById('messageText');
            
            messageText.textContent = message;
            
            messageBox.style.display = 'block';
            messageBox.className = `message-box ${isSuccess ? 'bg-green-200 text-green-800' : 'bg-red-200 text-red-800'}`;
            document.getElementById('overlay').style.display = 'block';
        }

        function closeMessageBox() {
            document.getElementById('messageBox').style.display = 'none';
            document.getElementById('overlay').style.display = 'none';
        }

        function showLoading() {
            document.getElementById('loadingOverlay').style.display = 'flex';
        }

        function hideLoading() {
            document.getElementById('loadingOverlay').style.display = 'none';
        }

        // Initialize totals on page load
        window.addEventListener('load', () => {
            classes.forEach(className => updateTotal(className));

            const form = document.getElementById('studentCountForm');
            const scriptUrl = form.action;

            form.addEventListener('submit', async (e) => {
                e.preventDefault(); // फॉर्म को डिफ़ॉल्ट रूप से सबमिट होने से रोकें
                showLoading();

                const formData = new FormData(form);

                try {
                    const response = await fetch(scriptUrl, {
                        method: 'POST',
                        body: formData
                    });

                    if (!response.ok) {
                        throw new Error(`Server returned status: ${response.status}`);
                    }

                    const result = await response.json();
                    if (result.status === 'SUCCESS') {
                        showMessage(result.message, true);
                        form.reset(); // फॉर्म को रीसेट करें
                        classes.forEach(className => updateTotal(className)); // योग को शून्य पर रीसेट करें
                    } else {
                        throw new Error(result.message || 'Unknown error');
                    }
                } catch (error) {
                    console.error('Error:', error);
                    showMessage(`सबमिशन असफल रहा: ${error.message}`, false);
                } finally {
                    hideLoading();
                }
            });
        });
    </script>
</body>
</html>
